<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../js/placement-rules.js" type="text/javascript"></script>
    <script type="text/javascript">
        var testNumber = 0;
        function assert(expression, bool) {
            testNumber++;
            if (expression != bool) console.log("Test" + testNumber + " failed");
            else console.log("Test" + testNumber + " succeeded");
        }

        var tileMap = ["112o", "o#oo", "3o3o"];
        var current = { x: 1, y: 1 };
        assert(pr.utils.checkIsInAny(tileMap, "2", [{ x: 123, y: 234 }, { x: 1, y: -1}], current), true);
        assert(pr.utils.checkIsInAny(tileMap, "2", [{ x: 1, y: 0 }], current), false);
        assert(pr.utils.checkIsInAll(tileMap, "3", [{ x: 1, y: 1 }, { x: -1, y: 1}], current), true);
        assert(pr.utils.checkIsInAll(tileMap, "3", [{ x: 1, y: 1 }, { x: -1, y: 1 }, { x: 123, y: 13 }], current), false);
        assert(pr.utils.checkIsInAny(tileMap, "2", [], current), true);
        assert(pr.utils.checkIsInAll(tileMap, "3", [], current), true);
        var rule0 = new pr.PlacementRule({});
        assert(rule0.compliesAt(1, 1, tileMap), true);
        var rule1 = new pr.PlacementRule({tile: "2", inAny:[{ x: 123, y: 234 }, { x: 1, y: -1}]});
        assert(rule1.compliesAt(current.x, current.y, tileMap), true);

        var spaceRule = pr.make.spaceRule("o", 1, 3);
        assert(spaceRule.compliesAt(3, 0, tileMap), true);
        var spaceRule = pr.make.spaceRule("o", 2, 3);
        assert(spaceRule.compliesAt(3, 0, tileMap), false);
        var spaceRule = pr.make.spaceRule("o", 1, 4);
        assert(spaceRule.compliesAt(3, 0, tileMap), false);
        
    </script>
</head>
<body>

</body>
</html>
